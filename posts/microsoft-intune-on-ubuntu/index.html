<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"}>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff" />
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1b" />

    <meta name="description" content="Microsoft Intune on Ubuntu 24.04 LTS">

    
        <title>Microsoft Intune on Ubuntu 24.04 LTS | Michele&#39;s Piece of Mind</title>
    

    
    <style>
        :root {
          --background: #ffffff;
        }
        @media (prefers-color-scheme: dark) {
          :root {
            --background: #1b1b1b;
          }
        }
        html {
            background-color: var(--background);
        }
        body {
            background-color: var(--background);
        }
    </style>

    
    <link rel="stylesheet" type="text/css" href="/style.min.375e5ed55aac1492efe66cf6fd686d0af88cb56b12d6bafab6571d3b39c73883.css" media="all">
  </head>

  <body>
        
        <nav>
          <ul class="menu">
            
                <li><a tabindex="-1" class="menu-link" href="/"><u>H</u>ome</a></li>
            
                <li><a tabindex="-1" class="menu-link" href="/tags"><u>T</u>ags</a></li>
            
          </ul>
        </nav>
        




<div id="single-header">
  <h1>
    Microsoft Intune on Ubuntu 24.04 LTS
  </h1>
  <div id="single-meta">
    
    
        <span class="datesub">Nov 25, 2024 &nbsp;&nbsp; m. Nov 28, 2024</span>
      

  </div>
</div>





<main><p>As we can see in the <a href="https://learn.microsoft.com/en-us/mem/intune/user-help/microsoft-intune-app-linux#install-microsoft-intune-app-for-ubuntu-desktop"  target="_blank" rel="noreferrer nofollow">official installation guide</a>
, as of today 25/11/2024, the Microsoft Intune app is not available for Ubuntu 24.04 (<code>noble</code>).</p>
<p>We can verify this by searching for <code>intune-platform</code> in the package list of microsoft repository for Ubuntu 22.04 and 24.04:</p>
<ul>
<li><code>jammy</code>: <a href="https://packages.microsoft.com/ubuntu/22.04/prod/dists/jammy/main/binary-amd64/Packages"  target="_blank" rel="noreferrer nofollow">https://packages.microsoft.com/ubuntu/22.04/prod/dists/jammy/main/binary-amd64/Packages</a>
</li>
<li><code>noble</code>: <a href="https://packages.microsoft.com/ubuntu/24.04/prod/dists/noble/main/binary-amd64/Packages"  target="_blank" rel="noreferrer nofollow">https://packages.microsoft.com/ubuntu/24.04/prod/dists/noble/main/binary-amd64/Packages</a>
</li>
</ul>
<p>As of today, you will find it only in the first one.</p>
<p>Follow the <a href="https://learn.microsoft.com/en-us/mem/intune/user-help/microsoft-intune-app-linux#install-microsoft-intune-app-for-ubuntu-desktop"  target="_blank" rel="noreferrer nofollow">official installation guide</a>
 for Ubuntu 22.04, then come back here.</p>
<p>Hey! Nice to see you again :)</p>
<h2 id="install-intune-portal">Install <code>intune-portal</code></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># ignore recommendations, i.e. microsoft edge</span>
</span></span><span class="line"><span class="cl">sudo apt install intune-portal --no-install-recommends
</span></span></code></pre></div><p>This will fail due to two dependencies that are not present on <code>noble</code>:</p>
<ul>
<li><code>libjavascriptcoregtk-4.0</code></li>
<li><code>libwebkit2gtk-4.0</code></li>
</ul>
<p>On <code>noble</code> only the updated versions are present:</p>
<ul>
<li><code>libjavascriptcoregtk-4.1</code></li>
<li><code>libwebkit2gtk-4.1</code></li>
</ul>
<p>Change the file <code>/etc/apt/sources.list.d/ubuntu.sources</code> by adding the following lines:</p>
<pre tabindex="0"><code>## The following are only required because of intune-portal (not packaged for noble)
## libjavascriptcoregtk-4.0-18 libwebkit2gtk-4.0-37

Types: deb
URIs: http://archive.ubuntu.com/ubuntu
Suites: jammy jammy-updates
Components: main universe restricted multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg

## Ubuntu security updates. Aside from URIs and Suites,
## this should mirror your choices in the previous section.
Types: deb
URIs: http://security.ubuntu.com/ubuntu/
Suites: jammy-security
Components: main universe restricted multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg
</code></pre><p>This will add <code>jammy</code> repositories.</p>
<p><strong>WARNING</strong>: mixing repositories from different distributions it is usually not a good idea and must be done carefully. Use <code>jammy</code> repositories only in this case and do not install other packages from it. When you install new packages check carefully what <code>apt</code> will do in advance.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install intune-portal --no-install-recommends
</span></span></code></pre></div><p>Try to start Intune:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">intune-portal
</span></span></code></pre></div><p>The app should start, but this does not mean that it would work correctly. Try to follow <a href="https://cloudinfra.net/how-to-enroll-a-linux-device-in-intune/"  target="_blank" rel="noreferrer nofollow">this</a>
 tutorial.</p>
<p>Keep an eye on <code>systemd</code> journal for error logs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">journalctl -xe
</span></span></code></pre></div><p>If everything goes well, great! Otherwise go on.</p>
<h2 id="install-java-11-jre">Install Java 11 JRE</h2>
<p>As suggested in <a href="https://panther.kapsi.fi/posts/2024-09-03_ubuntu_intune"  target="_blank" rel="noreferrer nofollow">this tutorial</a>
, we have to install <code>openjdk-11-jre</code>. If this is the case, you should see some relevant errors in <code>systemd</code> journal logs.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo apt install openjdk-11-jre
</span></span></code></pre></div><p>Log out, log in and try to run the app again.</p>
<p>If everything goes well, great! Otherwise go on.</p>
<h2 id="gnome-keyring"><code>gnome-keyring</code></h2>
<p>In <code>systemd</code> journal logs you may read some errors related to a <strong>missing default keyring</strong>. This is especially likely if, like me, you are not using Gnome as desktop environment (I use KDE).</p>
<p>As we can see, <code>intune-portal</code> depends on <code>gnome-keyring</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">apt depends intune-portal
</span></span></code></pre></div><p>To manage Gnome keyrings, install <code>seahorse</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo apt install seahorse
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">seahorse
</span></span></code></pre></div><p>Create a password keyring, then right-click it and &ldquo;Set as default&rdquo;. This is the keyring that will be used by Intune.</p>
<p>As last step, pray for it to be working and try again to <a href="https://cloudinfra.net/how-to-enroll-a-linux-device-in-intune/"  target="_blank" rel="noreferrer nofollow">complete the device enrollment</a>
.</p>
</main>




<br>

<footer>

<script defer>
  document.addEventListener("keydown", function (e) {
    if (document.activeElement.isContentEditable) {
      return false;
    }
    if (document.activeElement.tagName == "INPUT") {
      return false;
    }
    if (e.altKey || e.ctrlKey || e.shiftKey) {
      return false;
    }
    var key = e.key;
    if (key === "h") {
      e.preventDefault();
      e.stopPropagation();
      window.location.href = "/";
    } else if (key === "t") {
      e.preventDefault();
      e.stopPropagation();
      window.location.href = `https://${location.hostname}/tags`;
    } else if (key === "i") {
      e.preventDefault();
      e.stopPropagation();
      const inputs = document.querySelectorAll("input");
      for (let i = 0; i < inputs.length; i++) {
        if (inputs[i].offsetParent !== null) {
          inputs[i].selectionStart = inputs[i].selectionEnd =
            inputs[i].value.length;
          inputs[i].focus();
          break;
        }
      }
    }
    return false;
  });
</script>


<script defer>
  function throttle(fn, wait) {
    var time = Date.now();
    return function () {
      var now = Date.now()
      if (time + wait - now < 0) {
        fn();
        time = now;
      }
    };
  }

  function scrollHandler() {
    const anchors = Array.from(document.querySelectorAll("body h2, body h3"));

    function scrollCallback() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;

      
      for (var i = 0; i < anchors.length; i++) {
        var anchorId = anchors[i].getAttribute("id");
        var link = document.querySelector(
          'nav ul li a[href="#' + anchorId + '"]',
        );
        if (link) {
          link.classList.remove("active-toc");
        }
      }

      
      for (var i = anchors.length - 1; i >= 0; i--) {
        var offsetTop = anchors[i].offsetTop;
        if (scrollTop > offsetTop - 75) {
          var anchorId = anchors[i].getAttribute("id");
          var link = document.querySelector(
            'nav ul li a[href="#' + anchorId + '"]',
          );
          if (link) {
            link.classList.add("active-toc");
            break;
          }
        }
      }
    }

    window.addEventListener(
      "scroll",
      throttle(scrollCallback, 300),
    );
  }
  setTimeout(scrollHandler, 100);
</script>

<script defer>
  function addCopyButtonToCodeBlocks() {
    
    const codeBlocks = document.querySelectorAll('code[class^="language-"]');

    codeBlocks.forEach((codeBlock) => {
      const copyButton = document.createElement("button");
      copyButton.classList.add("copy-code-button");
      copyButton.innerHTML = "copy";

      
      copyButton.addEventListener("click", () => {
        
        const elements = codeBlock.querySelectorAll(".cl");
        let codeToCopy = "";
        elements.forEach((element) => {
          codeToCopy += element.innerText;
        });
        navigator.clipboard.writeText(codeToCopy);

        
        copyButton.innerHTML = "copied!";
        setTimeout(() => {
          copyButton.innerHTML = "copy";
        }, 1500);
      });

      
      codeBlock.parentNode.before(copyButton);
    });
  }
  setTimeout(function () {
    addCopyButtonToCodeBlocks();
  }, 100);
</script>

<script>
window.store = {
    
    "https:\/\/mnalli.github.io\/": {
        "title": "",
        "tags": [],
        "content": "Michele\u0026rsquo;s Piece of Mind ", 
        "url": "https:\/\/mnalli.github.io\/"
    },
    
    "https:\/\/mnalli.github.io\/posts\/microsoft-intune-on-ubuntu\/": {
        "title": "Microsoft Intune on Ubuntu 24.04 LTS",
        "tags": [],
        "content": "As we can see in the official installation guide , as of today 25/11/2024, the Microsoft Intune app is not available for Ubuntu 24.04 (noble).\nWe can verify this by searching for intune-platform in the package list of microsoft repository for Ubuntu 22.04 and 24.04:\njammy: https://packages.microsoft.com/ubuntu/22.04/prod/dists/jammy/main/binary-amd64/Packages noble: https://packages.microsoft.com/ubuntu/24.04/prod/dists/noble/main/binary-amd64/Packages As of today, you will find it only in the first one.\nFollow the official installation guide for Ubuntu 22.04, then come back here.\nHey! Nice to see you again :)\nInstall intune-portal # ignore recommendations, i.e. microsoft edge sudo apt install intune-portal --no-install-recommends This will fail due to two dependencies that are not present on noble:\nlibjavascriptcoregtk-4.0 libwebkit2gtk-4.0 On noble only the updated versions are present:\nlibjavascriptcoregtk-4.1 libwebkit2gtk-4.1 Change the file /etc/apt/sources.list.d/ubuntu.sources by adding the following lines:\n## The following are only required because of intune-portal (not packaged for noble) ## libjavascriptcoregtk-4.0-18 libwebkit2gtk-4.0-37 Types: deb URIs: http://archive.ubuntu.com/ubuntu Suites: jammy jammy-updates Components: main universe restricted multiverse Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg ## Ubuntu security updates. Aside from URIs and Suites, ## this should mirror your choices in the previous section. Types: deb URIs: http://security.ubuntu.com/ubuntu/ Suites: jammy-security Components: main universe restricted multiverse Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg This will add jammy repositories.\nWARNING: mixing repositories from different distributions it is usually not a good idea and must be done carefully. Use jammy repositories only in this case and do not install other packages from it. When you install new packages check carefully what apt will do in advance.\nsudo apt update sudo apt install intune-portal --no-install-recommends Try to start Intune:\nintune-portal The app should start, but this does not mean that it would work correctly. Try to follow this tutorial.\nKeep an eye on systemd journal for error logs:\njournalctl -xe If everything goes well, great! Otherwise go on.\nInstall Java 11 JRE As suggested in this tutorial , we have to install openjdk-11-jre. If this is the case, you should see some relevant errors in systemd journal logs.\nsudo apt install openjdk-11-jre Log out, log in and try to run the app again.\nIf everything goes well, great! Otherwise go on.\ngnome-keyring In systemd journal logs you may read some errors related to a missing default keyring. This is especially likely if, like me, you are not using Gnome as desktop environment (I use KDE).\nAs we can see, intune-portal depends on gnome-keyring.\napt depends intune-portal To manage Gnome keyrings, install seahorse.\nsudo apt install seahorse seahorse Create a password keyring, then right-click it and \u0026ldquo;Set as default\u0026rdquo;. This is the keyring that will be used by Intune.\nAs last step, pray for it to be working and try again to complete the device enrollment .\n", 
        "url": "https:\/\/mnalli.github.io\/posts\/microsoft-intune-on-ubuntu\/"
    },
    
    "https:\/\/mnalli.github.io\/posts\/": {
        "title": "Posts",
        "tags": [],
        "content": "", 
        "url": "https:\/\/mnalli.github.io\/posts\/"
    },
    
    "https:\/\/mnalli.github.io\/categories\/": {
        "title": "Categories",
        "tags": [],
        "content": "", 
        "url": "https:\/\/mnalli.github.io\/categories\/"
    },
    
    "https:\/\/mnalli.github.io\/tags\/": {
        "title": "Tags",
        "tags": [],
        "content": "", 
        "url": "https:\/\/mnalli.github.io\/tags\/"
    },
    
}
</script>
<script defer src="/js/lunr.js"></script>
<script defer src="/js/search.js"></script>

</footer>

</body>
</html>

